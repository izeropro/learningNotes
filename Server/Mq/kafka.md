# 一、MQ用途
    1. 限流削峰
    2. 异步解耦
    3. 数据收集

# 二、重复消费问题
    1. Kafka 实际上有个 offset 的概念，就是每个消息写进去，都有一个 offset，代表消息的 序号，然后 consumer 消费了数据之后，每隔一段时间（定时定期），会把自己消费过的消息的 offset 提交一下
   
# 三、如何保证消息消费的幂等性
    1. 其实重复消费不可怕，可怕的是你没考虑到重复消费之后，怎么保证幂等性。一条数据重 复出现两次，数据库里就只有一条数据，这就保证了系统的幂等性。
       - 比如你不是上面两个场景，那做的稍微复杂一点，你需要让生产者发送每条数据的时候，里面加一个全局唯一的 id，类似订单 id 之类的东西，然后你这里消费到了之后，先根据这个 id 去比如 Redis 里查一下，之前消费过吗？如果没有消费过，你就处理，然后这个id 写 Redis。如果消费过了，那你就别处理了，保证别重复处理相同的消息即可。
       - 比如基于数据库的唯一键来保证重复数据不会重复插入多条。因为有唯一键约束了，重复数据插入只会报错，不会导致数据库中出现脏数据。

# 四、如何保证消息的可靠性传输？（如何处理消息丢失的问题）
    1. 生产者
    2. kafka
    3. 消费者
